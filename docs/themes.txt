КАК СДЕЛАТЬ СВОИ СОБСТВЕННЫЕ ТЕМЫ:

Инструменты тем Достанькореша очень гибкие и позволяют создавать
практически любое окно, которое вы можете себе представить (заметное
исключение - анимации). Этот документ должен помочь вам создавать
свои собственные темы или внести изменения в существующие темы!

Попробуйте следовать существующим темам - это сделает этот
документ менее запутанным!

Примечание по редактированию существующих тем:
Не редактируйте текущие темы! Если вы внесёте изменения
в существующие темы, они * будут * перезаписывается
при установке обновлений.

PS от Daosp: Если у вас будет хорошо переведённая тема,
то я могу добавить его в свою сборку.

СОЗДАНИЕ ТЕМЫ
----------------
Каждая тема - это просто отдельный каталог в каталоге "themes".
Этот каталог содержит все изображения, используемые в этой теме,
а также файл "style.js", который является
файлом конфигурации для темы.

!!!                -=|ВНИМАНИЕ|=-                !!!
!!!Кодировка STYLE.JS должна быть одно-байтной,  !!!
!!!желательно WINDOWS-1251. Используйте NOTEPAD++!!!
!!!или другой текстовый редактор, позволяющий    !!!
!!!менять кодировки. Иначе будет отображаться    !!!
!!!ошибка,если есть русский текст в файле.       !!!
!!!                -=|ВНИМАНИЕ|=-                !!!
                                         от Daosp

ФОРМАТИРОВАНИЕ
------
Файл темы не похож на большинство файлов конфигурации. Он использует формат
под названием JSON, который по своей сути выглядит так:

{"option": "value", "option2": 5, "category": {"option1": [10, 50] } }

Это в основном список: "name": "value", разделенный запятыми, в скобках.
Итак, приведу еще один пример:

{"color": "red", "size": 50 }

это означает, что "color" (цвет) - "red" (красный), "size" (размер) - 50.
Обратите внимание, что строки должны заключаться в кавычки, а числа не должны.
Вы также можете сделать определенные значения категориями,
сделав их списком в фигурных скобках, например:

{"memos": {"color": "red", "size": 50}, "convos": {"color": "green", "size": 50 } } 

Это создает две категории: memos (меморандумы) и convos (беседы), каждая со
своим значением цвета и размера. Также обратите внимание, что пробелы вне
"этих скобок" на самом деле не имеют значения. Это помогает сделать
красивый отступы для каждой категории для читабельности:

{"memos":  {"color": "red", "size": 50"}, 
 "convos": {"color": "green", "size": 50" } 
}

или

{"memos":  {"color": "red", 
            "size": 50" }, 
 "convos": {"color": "green", 
            "size": 50" } 
}

Что легче прочитать?

НАСТРОЙКИ
--------

НАСЛЕДОВАНИЕ: вы можете упростить себе написание тем, используя
настройку "inherits". При этом все настройки будут такими же,
как у унаследованной темы, если вы ее не измените. Таким образом,
вам нужно только установить те настройки, которые вы хотите изменить!

При указании расположения файлов вы используйте термин "$path" для
обозначения пути к текущей теме. Программа автоматически подставит правильное место.

Примечание о стилях:

ДК использует таблицы стилей Qt. Это означает, что в файле стиля есть несколько параметров,
использующих параметры, подобные CSS. Большинство параметров CSS фактически доступны в этих настройках.
Смотрите эту страницу для получения подробной информации о таблицах стилей Qt:

http://doc.crossplatform.ru/qt/4.5.0/stylesheet.html

и вот как работает CSS:

http://htmlbook.ru/samcss/vvedenie-v-css

Если вы знаете CSS, обратите внимание, что здесь нет каскадирования или необходимости
вводить имена тегов. Программа сделает это за вас

Значения CSS обычно такие:

background:#000000; font: bold;

где name:value; разбиты символом ";".

ОБРАТИТЕ ВНИМАНИЕ, что если вы измените стиль унаследованной темы,
то вы ДОЛЖНЫ добавить все параметры старого стиля, если хотите их сохранить!

Мы рассмотрим некоторые из наиболее часто используемых параметров в стилях:

background-color: Устанавливает фоновый цвет. Может записано быть как:
* цвет как английский текст: "black";
* стандарт HTML цветов: "#000000" или "#000";
* rgba значения (red, green, blue, alpha): "rgba(0, 34, 151, 75%)".

background-image: Устанавливает на фон какую либо картинку. Вы должны определить расположение
картинки, использующийся у вас, при помощи "url([РАСПОЛОЖЕНИЕ_КАРТИНКИ])".
Команда может выглядеть так: "url($path/background.png)".

background-repeat: Устанавливает, как должен повторяться фон, если область больше изображения.
Значения:
* repeat-x;
* repeat-y;
* repeat;
* no-repeat.

border: Устанавливает границу объекта. Значение по такой форме "[ТОЛЩИНА_В_ПКСЛЬ]px [СТИЛЬ] [ЦВЕТ]".
Например: "border: 2px solid black;" Смотрите ссылку на стили.

border-top/right/left/bottom: Устанавливает особую границу у каждой из сторон.
Тут также как и border. Например: "border-right: 1px solid #ffff00;"

border-image: Позволяет сделать из картинки границу объекта.
Лучше почитайте тут, ибо много объяснять: http://htmlbook.ru/css/border-image

border-radius: Опять таки, лучше почитайте: http://htmlbook.ru/css/border-radius
Например: "border-radius: 4px;"

color: Цвет текста. Например: "color: #ff0000;"

font: Моя лень всё сильнее и сильнее...
Почитайте: http://htmlbook.ru/css/font

font-family: A string representing the font name. Be careful as
everyone's computer may not have the same fonts! Popular fonts like
"Arial" are fine. Example: "font-family: 'Arial';" Don't forget the
quotes!

font-size: A font's size in pixels. Example: "font-size: 12px;"

font-style: Basically italic or not. Example: "font-style: italic;"

font-weight: Basically bold or not. Example: "font-weight: bold;"

margin: Sets the amount of space between this object and other
objects. This is really only useful in memo and conversation
settings. You can set individual margins for right/left/top/bottom
by margin-top/left/right/bottom. Examples: "margin-top: 15px;" "margin:
5px;"

max/min-height/width: Sets the maximum/minimum height/width for something.

padding: Same thing as margin, kinda... basically this sets the space
between the outside of the box and the stuff inside it. See
http://doc.qt.nokia.com/latest/stylesheet-customizing.html#the-box-model
for more detail.

selection-color: The color of the text when an item is
selected. Example: "selection-color: black;"

selection-background-color: The color of the background of an item
when it is selected. Example: "selection-background-color: white;"

text-align: Centers, left-justifies, and right-justifies
text. Example: "text-align: center;"

--------

Примечание о размерах и координатах:

Везде, где написано «размер», Достанькореш ожидает значение формы
[ширина, высота], где ширина и высота - ЧИСЛА. Никаких кавычек не должно быть.
Пример: "size": [232,280]

То же самое с координатами. Только это расположение относительно верхнего левого угла.
Итак, [50, 60] будет на 50 пикселей вправо и 60 пикселей вниз.


Отлично, теперь перейдём в main секцию:

MAIN СЕКЦИЯ
----

"main": { .... }

Эта секция управляет главный окном Достанькореша.

"style": Устанавливает стиль главного окна (как указано выше).
Это значение повлияет на другие части окна. НЕ размещайте здесь фоновое изображение.
Вы должны установить это отдельно; это необходимо для поддержки тем,
которые не являются квадратными (например, "gold xl").

"background-image": Устанавливает фоновое изображение.
Это определит форму вашего Достанькореша! Это ваш холст!
Примеры того, как выглядят фоновые изображения, смотрите во включенных темах.

"size": Размер окна. Обычно это то же самое,
что и размер вашего фонового изображения.

"icon": Имя иконки, которое вы хотите отображать в трее и на панели задач.
Например: "icon": "$path/trayicon.png"

"newmsgicon": Имя файла изображения, которое будет отображаться в трее
при получении нового сообщения.

"windowtitle": Заголовок окна.

"close": Категория:
  "image": Расположение картинки с кнопкой "X".
  "loc": Координаты кнопки "X".
Example: "close": {"image": "$path/x.png", "loc": [210,2]}

"minimize": Категория. Похожа "close", но для кнопки "свернуть".

"menubar": Категория. Содержит один элемент:
  "style": Стиль основной строки меню.

"menu": Категория.
  "style": Стиль каждого индивидуального меню.
  "menuitem": Влияет на каждый пункт главного меню. Обычно используется для интервала.
  "selected": Информация о стиле при наведении курсора на пункт меню.
  "loc": Координаты строки меню.

"sounds": Категория.
  "alertsound": Путь к звуковому сигналу. Должен быть *.wav.
  "ceasesound": Путь к звуку, когда люди перестают доставать.

"menus": Категория. Здесь вы меняете текст меню.
  "client": Категория. Меню клиента.
    "_name": Текст заголовка меню клиента.
    (Дальше строковый тип)
    "options"
    "memos"
    "userlist"
    "import"
    "reconnect"
    "idle"
    "exit"
  "profile": Категория. Меню профиля.
    "_name": Текст заголовка меню профиля.
    (Дальше строковый тип)
    "switch"
    "color"
    "theme"
    "block"
    "quirks"
  "help": Категория. Меню помощи.
    "_name": Текст
    (Дальше строковый тип)
    "about"
    "help"
    "calsprite"
    "chanserv"
    "nickserv"
  "rclickchumlist": Категория. Текст меню, вызываемого правой кнопкой мыши.
    "pester"
    "removechum"
    "blockchum"
    "addchum"
    "unblockchum"
    "banuser"
    "opuser"
    "quirksoff"

"chums": Категория. Создайте свой корешсписок, где находятся все ваши "друзья". Все они.
  "style": Стиль корешсписка
  "loc": Координаты корешсписка
  "size": Размеры корешсписка
  "userlistcolor": Цвет корешников по умолчанию
  "moods": Категория. Содержит список значков настроения и цветов;
   когда у пользователя есть такое настроение, его дескриптор будет отображаться с этим значком и этим цветом текста.
   Обычно следует по форме: mood:{"icon":"$path/file.png","color": "colorname"}
   Настроение может быть:
    "chummy", "rancorous", "offline", "pleasant", "distraught",
    "pranky", "smooth", "mystified", "amazed", "insolent", "bemused",
    "ecstatic", "relaxed", "discontent", "devious", "sleek",
    "detestful", "mirthful", "manipulative", "vigorous", "perky",
    "acceptant", "protective", "blocked"
    (Примечание: "blocked" технически не является "mood", но значок используется, когда вы кого-то блокируете.)

  "trollslum": Категория. Настройки тролльслума.
    "style": Стиль тролльслума.
    "size": Размеры окна.
    "label": Категория. Содержит заголовок тролльслума.
      "style": Стиль заголовка.
      "text": Отображаемый текст.
    "chumroll": Категория.
      "style": Стиль списка пользователей.
  
  "mychumhandle": Категория. Параметры текущего корешника пользователя и цвета.
    "label": Категория.
      "text": Текст заголовка с указанием корешника.
      "loc": Координаты заголовка.
      "style": Стиль заголовка.
    "handle": Категория. Текуший корешник.
      "style": Стиль корешника.
      "loc": Координаты корешника.
      "size": Размеры корешника.
    "colorswatch": Категория. Цвет.
      "loc": Координаты образца цвета пользователя.
      "size": Размеры.
      "text": Текст, отображаемый внутри образца.
    "currentmood": Координаты текущего настроения пользователя.

  "defaultwindow": Категория.
    "style": Стиль окна по умолчанию. (Правила, сменщик профиля, и т.д.)

  "addchum": Категория. Кнопка добавления кореша.
    "style": Стиль.
    "pressed": Стиль, когда нажата
    "loc": Координты
    "size": Размеры
    "text": Текст на кнопке
  Те же атрибуты применяются к этим категориям:
  "pester": Кнопка доставания кореша.
  "block": Кнопка блокирование кореша.

  "defaultmood": Настроение по умолчанию.
  "moodlabel": Категория. Заголовок с указанием кнопок настроения.
    "style": Стиль.
    "loc": Координаты.
    "text": Текст заголовка.

  "moods": Хорошо, это может быть сложно. По сути, это список категорий,
   по одной для каждой кнопки настроения, присутствующей в интерфейсе.
   Вы составляете список как в этом примере:
    "moods": [{"style": "", "option": "value"}, {"style": "", "option": "value"}]

  Квадратные скобки важны!
  В любом случае, для каждого настроения вот возможные настройки:
    "style": Стиль.
    "selected": Стиль, когда выбрана.
    "loc": Координаты.
    "size": Размеры.
    "text": Текст на кнопке.
    "icon": Путь к значку, отображаемому на кнопке настроения.
    "mood": Номер настроения кнопки. Смотрите номера настроения в конце этого документа.

СЕКЦИЯ CONVO
-------------

{"main": { ... },
 "convo": { ... }

Это контролирует окно бесед.

  "style": Стиль окна бесед. Влияет только на основное окно;
   не переходит в другие части.
  "scrollbar": Категория. Это НЕОБЯЗАТЕЛЬНО. Это может быть
   немного сложно: если вы добавляете этот элемент, вы ДОЛЖНЫ
   указать ВСЕ настройки самостоятельно. Если вы не добавите
   этот элемент, он будет использовать системные полосы прокрутки
   по умолчанию. Если вы наследуете тему с настройкой полосы прокрутки
   и хотите ее удалить, введите «scrollbar: null».

    На всякий случай, параметры scrollbar:
     "style": General style of whole scrollbar.
     "handle": Style for the handle of the scrollbar.
     "downarrow": Стиль для стрелки вниз.
     "darrowstyle": Обычно здесь вы устанавливаете изображение
	 стрелки вниз с помощью "image:url($path/downarrow.png)".
     "uparrow": То же, что и downarrow.
     "uarrowstyle": То же, что и darrowstyle, но для стрелки вверх.

  "margins": Категория. Устанавливает поля вокруг содержимого
   окна беседы.
    "top": Поля сверху.
    "bottom": Поля снизу.
	"left": Поля слево.
	"right": Поля справа.

  "size": Начальный размер окна беседы.
  "chumlabel": Категория. Часть, которая описывает, с кем вы болтаете.
    "style": Стиль chumlabel.
    "align": Категория выравнивания.
      "h": Горизонтальное выравнивание
      "v": Вертикальное выравнивание
    "minheight": Минимальная высота chumlabel, которая возможна.
    "maxheight": Максимальная высота chumlabel.
    "text": Текст chumlabel. Используйте $handle, чтобы представить
	 корешник человека, с которым вы разговариваете. Пример: ":: $handle ::"

  "textarea": Категория. Окно, где как раз достают.
    "style": Стиль этого окна.

  "input": Категория. Место где пишут текст.
    "style": Стиль input зоны.

  "tabwindow": Категория. Окно, где находятся вкладки.
    "style": Стиль этой части.

  "tabs": Категория. Стиль вкладок в беседе.
    "style": Стиль вкладок.
    "selectedstyle": Стиль выбранных вкладок.
    "newmsgcolor": Цвет текста, когда получили новое сообщение.
    "tabstyle": Usually 0. See the Qt Stylesheets for more
    information.

  "text": Категория. Текст системных сообщений. В следующих примерах текст,
   написанный заглавными буквами, будет заменен этими значениями.:
    "beganpester": "<user> BEGAN PESTERING <user> в <time>"
    "ceasepester": "<user> CEASED PESTERING <user> в <time>"
    "blocked": "<user> BLOCKED <user>"
    "unblocked": "<user> UNBLOCKED <user>"
    "blockedmsg": "<user> DID NOT RECEIVE MESSAGE FROM <user>"
    "openmemo": "<user> OPENED MEMO ON BOARD <memo>"
    "joinmemo": "<user> RESPONDED TO MEMO <memo>"
    "closememo": "<user> CEASED RESPONDING TO MEMO"
    "kickedmemo": "YOU HAVE BEEN BANNED FROM THIS MEMO!"
    "idle": "<user> IS NOW AN IDLE CHUM!"

  "systemMsgColor": Цвет системных сообщений.

СЕКЦИЯ MEMO
------------

{"main": { .... }
 "convo": { .... }
 "memos": { .... }

Это контролирует меморандумы. Это почти идентично беседам,
с небольшими дополнениями.

  "style": То же, что и Convos.
  "size": То же, что и Convos.
  "tabs": То же, что и Convos.
  "scrollbar": То же, что и Convos.
  "label": То же, что и Convos.
  "input": То же, что и Convos.
  "textarea": То же, что и Convos.
  "margins": То же, что и Convos.

  "userlist": Категория. Список пользователей, находящихся в нём.
    "width": Ширина.
    "style": Стиль userlist.
  "time": Категория. Область ползунка времени.
    "text": Категория.
      "width": Ширина текста со временем.
      "style": Стиль текста со временем.
    "slider": Категория. Ползунока времени.
      "style": Стиль ползунка.
      "groove": Стиль паза ползунка.
      "handle": Стиль ручки ползунка.
    "buttons": Категория. Управляет кнопками времени.
      "style": Стиль кнопок.
    "arrows": Категория. Управляет стрелками времени.
      "left": Путь к изображению стрелки влево.
      "right" Путь к изображению стрелки вправо.
      "style": Стиль слоя со стрелками.

  "systemMsgColor": Цвет системных сообщений.
  "op": Категория. 
    "icon": Значок, который отображается рядом с OP меморандума в списке пользователей.

Число -> Настроение
-------------------
0: "chummy"
1: "rancorous"
2: "offline"
3: "pleasant"
4: "distraught"
5: "pranky"
6: "smooth"
7: "ecstatic"
8: "relaxed"
9: "discontent"
10: "devious"
11: "sleek"
12: "detestful"
13: "mirthful"
14: "manipulative"
15: "vigorous"
16: "perky"
17: "acceptant"
18: "protective"
19: "mystified"
20: "amazed"
21: "insolent"
22: "bemused"
